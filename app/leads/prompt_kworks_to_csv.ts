export const PROMPT_KWORKS_TO_CSV = `
**Задача:** Преобразовать предоставленный ниже текст, содержащий одно или несколько описаний проектов с Kwork, в **JSON-массив объектов**. Каждый объект в массиве должен представлять один проект (лид).

**Входные данные:** Блок текста, скопированный со страницы Kwork, содержащий информацию о нескольких проектах.

**Структура JSON-объекта для каждого лида (ОБЯЗАТЕЛЬНО использовать эти ключи):**
*   \`client_name\`: (String | null) Имя пользователя (логин) покупателя.
*   \`kwork_url\`: (String | null) Полная ссылка на проект Kwork.
*   \`project_description\`: (String) Полное текстовое описание задачи от клиента.
*   \`budget_range\`: (String | null) Информация о бюджете.
*   \`deadline_info\`: (String | null) Информация о сроках.
*   \`client_kwork_history\`: (String | null) Информация об истории клиента на бирже.
*   \`current_kwork_offers_count\`: (String | null) Количество предложений по проекту.
*   \`raw_html_description\`: (String | null) HTML-код описания проекта (опционально, если легко извлечь).
*   \`initial_relevance_score\`: (Number) Оценка от 1 до 10, насколько проект релевантен для Supervibe Studio.
    *   **Критерии высокой оценки (8-10):** Явное упоминание "Telegram Mini App", "Telegram Web App", "TWA", "React", "Next.js", "TypeScript", "Supabase". Проекты, связанные с "ботами" (особенно с AI), "приложениями для Telegram", "сервисами онлайн тренировок", "арендой авто", "агрегаторами", "CRM для Telegram".
    *   **Критерии средней оценки (5-7):** Общие веб-задачи, где наш стек может подойти, но нет явных указаний на TWA или наш стек. Проекты, где "любой стек" или "рассмотрю другие варианты" упоминаются вместе с React/JS.
    *   **Критерии низкой оценки (1-4):** Явное упоминание технологий, которые мы НЕ ИСПОЛЬЗУЕМ (например, PHP, WordPress, Bitrix, Vue.js для фронтенда, Python для фронтенда, мобильная разработка на Swift/Kotlin/Flutter). Задачи, полностью связанные с дизайном, SEO, копирайтингом.
*   \`key_features_requested_list\`: (Array of Strings) JSON-массив строк с ключевыми функциями, которые запрашивает клиент, извлеченными из описания. Будь краток и выделяй суть.
*   \`project_type_guess\`: (String | null) Твоя попытка классифицировать проект. Возможные значения: "TWA_Training", "TWA_CarRental", "TWA_Ecommerce", "TWA_Utility", "Bot_AI", "Bot_Simple", "Web_NextJS_App", "Web_Other_Stack", "Mobile_Native", "Design_Only", "Unknown". Выбери наиболее подходящее или "Unknown". Учитывай, что проекты с функционалом каталога, фильтров, корзины, личных кабинетов, админки могут быть TWA_Ecommerce или TWA_CarRental, если есть привязка к Telegram или web-приложению.

**Инструкции по извлечению данных для каждого ключа:**

1.  **\`client_name\`**: Имя пользователя (логин) покупателя. Обычно после "Покупатель:" (например, "urik99"). Если не найдено, значение \`null\`.
2.  **\`kwork_url\`**: Полная ссылка на проект Kwork (например, "https://kwork.ru/projects/2840722"). Если ссылка на пользователя, а не на проект, постарайся найти ссылку на проект. Если нет, используй ссылку на пользователя. Если не найдено, значение \`null\`.
3.  **\`project_description\`**: Полное текстовое описание задачи от клиента. Обязательное поле.
4.  **\`budget_range\`**: Информация о бюджете. Обычно "Желаемый бюджет: до X ₽ Допустимый: до Y ₽". Запиши как есть. Если нет, значение \`null\`.
5.  **\`deadline_info\`**: Информация о сроках. Обычно "Осталось: X д. Y ч.". Запиши как есть. Если нет, значение \valuenull\`.
6.  **\`client_kwork_history\`**: Информация об истории клиента. Обычно "Размещено проектов на бирже: X". Запиши как есть. Если нет, значение \`null\`.
7.  **\`current_kwork_offers_count\`**: Количество предложений. Обычно "Предложений: X". Запиши как есть. Если нет, значение \`null\`.
8.  **\`raw_html_description\`**: HTML-код описания. Если сложно или отсутствует, значение \`null\`.
9.  **\`initial_relevance_score\`**: Твоя оценка релевантности проекта (1-10) на основе вышеописанных критериев.
10. **\`key_features_requested_list\`**: Список ключевых фич в виде массива строк (например, ["telegram mini app", "разработка фронтенда", "сервис по онлайн тренировкам", "каталог авто"]).
11. **\`project_type_guess\`**: Твоя классификация проекта.

**Правила форматирования JSON:**
*   Весь вывод должен быть одним валидным JSON-массивом.
*   Строковые значения должны быть в двойных кавычках.
*   Числовые значения (как \`initial_relevance_score\`) без кавычек.
*   Массивы (как \`key_features_requested_list\`) в квадратных скобках.
*   Если информация для какого-то ключа отсутствует (кроме обязательных), используй значение \`null\`.

**Пример обработки одного проекта:**

*Входной текст (фрагмент):*
\`\`\`
Разработка telegram mini app https://kwork.ru/projects/2840722
Разработка фронтенда... Нужно завершить...
Тема приложения : сервис по онлайн тренировкам
Необходимо: ...
Желаемый бюджет: до 10 000 ₽ Допустимый: до 30 000 ₽
Покупатель: urik99 https://kwork.ru/user/urik99
Размещено проектов на бирже: 2 Осталось: 1 д. 17 ч. Предложений: 5
\`\`\`

*Пример JSON-объекта для этого проекта (как элемент массива):*
\`\`\`json
{
  "client_name": "urik99",
  "kwork_url": "https://kwork.ru/projects/2840722",
  "project_description": "Разработка telegram mini app Разработка фронтенда... Нужно завершить... Тема приложения : сервис по онлайн тренировкам Необходимо: ...",
  "budget_range": "до 10 000 ₽ / до 30 000 ₽",
  "deadline_info": "1 д. 17 ч.",
  "client_kwork_history": "Размещено проектов на бирже: 2",
  "current_kwork_offers_count": "Предложений: 5",
  "raw_html_description": null,
  "initial_relevance_score": 9,
  "key_features_requested_list": ["telegram mini app", "разработка фронтенда", "сервис по онлайн тренировкам"],
  "project_type_guess": "TWA_Training"
}
\`\`\`

**ВАЖНО:**
*   Если во входном тексте несколько проектов, создай отдельный JSON-объект для каждого и включи их все в один JSON-массив.
*   Аккуратно извлекай данные.
*   **Предоставь ТОЛЬКО JSON-массив.** Никаких пояснений до или после.

Вот текст для обработки:
\`\`\`text
{{RAW_KWORKS_TEXT_BLOCK}}
\`\`\`
`;